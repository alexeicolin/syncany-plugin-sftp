apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'application'

mainClassName = 'fsdf'

project.ext {
	applicationVersion = "0.1.1-alpha"

	applicationRelease = false
	applicationDate = new Date()
	applicationRevision = "fsdffsd"
	
	applicationVersionSnapshot = (!applicationRelease) ? "-SNAPSHOT+${applicationDate.format('yyMMddHHmm')}git${applicationRevision}" : ""
	applicationVersionFull = "${applicationVersion}${applicationVersionSnapshot}"
}

dependencies {
	compile		project(':syncany')
	compile		project(':syncany-lib')
	compile		"com.jcraft:jsch:0.1.50"
	compile		"org.apache.sshd:sshd-core:0.9.0"
	compile		"org.apache.commons:commons-vfs2:2.0"
	
	testCompile	"junit:junit:4.3"
	testCompile	project(path : ':syncany-lib', configuration: 'tests')
}

repositories {
	mavenCentral()
}

task uberjar(type: Jar) {
	from files(sourceSets.main.output.classesDir)
	from files(sourceSets.main.output.resourcesDir)
	from {configurations.compile.collect {zipTree(it)}}
	 
	manifest {
		attributes 'Main-Class': 'org.traffic.reporter.TrafficReporter'
	}
}
